(this.webpackJsonpuns=this.webpackJsonpuns||[]).push([[0],{32:function(e,t,a){e.exports=a(60)},54:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),c=a.n(o),s=a(62),l=a(5),i=Object(l.a)(),u=a(7),h=a(8),m=a(6),p=a(10),d=a(9),g=a(27),f=a.n(g),v=(a(54),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"pages",value:function(){for(var e=[],t=this.rangeStart();t<=this.rangeEnd();t++)e.push(t);return e}},{key:"rangeStart",value:function(){var e=this.props.current-this.props.pageRange;return e>0?e:1}},{key:"rangeEnd",value:function(){var e=this.props.current+this.props.pageRange,t=this.totalPages();return e<t?e:t}},{key:"totalPages",value:function(){return Math.ceil(this.props.total/this.props.perPage)}},{key:"nextPage",value:function(){return this.props.current+1}},{key:"prevPage",value:function(){return this.props.current-1}},{key:"hasFirst",value:function(){return 1!==this.rangeStart()}},{key:"hasLast",value:function(){return this.rangeEnd()<this.totalPages()}},{key:"hasPrev",value:function(){return this.props.current>1}},{key:"hasNext",value:function(){return this.props.current<this.totalPages()}},{key:"changePage",value:function(e){this.props.onPageChanged(this.props.searchTerm,e)}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"pagination"},r.a.createElement("div",{className:"pagination__left"},r.a.createElement("a",{href:"#",rel:"noopener noreferrer",className:this.hasPrev()?"":"hidden",onClick:function(t){return e.changePage(e.prevPage())}},"Prev")),r.a.createElement("div",{className:"pagination__mid"},r.a.createElement("ul",null,r.a.createElement("li",{className:this.hasFirst()?"":"hidden"},r.a.createElement("a",{href:"#",rel:"noopener noreferrer",onClick:function(t){return e.changePage(1)}},"1")),r.a.createElement("li",{className:this.hasFirst()?"":"hidden"},"..."),this.pages().map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("a",{href:"#",rel:"noopener noreferrer",onClick:function(a){return e.changePage(t)},className:e.props.current===t?"current":""},t))})),r.a.createElement("li",{className:this.hasLast()?"":"hidden"},"..."),r.a.createElement("li",{className:this.hasLast()?"":"hidden"},r.a.createElement("a",{href:"#",rel:"noopener noreferrer",onClick:function(t){return e.changePage(e.totalPages())}},this.totalPages())))),r.a.createElement("div",{className:"pagination__right"},r.a.createElement("a",{href:"#",rel:"noopener noreferrer",className:this.hasNext()?"":"hidden",onClick:function(t){return e.changePage(e.nextPage())}},"Next"))))}}]),a}(n.Component));v.defaultProps={pageRange:3};var E=v,P=a(28),k=a(31),_=function(e){return r.a.createElement("div",null,r.a.createElement(P.a,{open:!0,closeOnDocumentClick:!0,onClose:e.closeModal},r.a.createElement("div",{className:"modal"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},r.a.createElement("a",{href:"".concat(e.info.links.download,"?force=true"),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(k.a,{className:"download__icon"})),r.a.createElement("img",{src:e.info.urls.full,alt:e.info.id,style:{width:"100%"}})))))},b=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={open:!1},n.openModal=n.openModal.bind(Object(m.a)(n)),n.closeModal=n.closeModal.bind(Object(m.a)(n)),n}return Object(h.a)(a,[{key:"openModal",value:function(){this.setState({open:!0})}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this,t=this.props.photo;return r.a.createElement("div",{key:t.id,className:"grid__item card"},r.a.createElement("div",{className:"unsplash__card__container"},this.state.open&&r.a.createElement(_,{info:t,open:this.openModal,closeModal:this.closeModal}),r.a.createElement("img",{src:t.urls.small,alt:"",onClick:function(){return e.setState({open:!0})}})),r.a.createElement("div",{className:"unsplash__footer unsplash__card__child__container"},r.a.createElement("img",{src:t.user.profile_image.small,alt:"",className:"unsplash__card__container__img"}),r.a.createElement("div",{className:"unsplash__card__container__body"},r.a.createElement("span",null,"Image By: "),r.a.createElement("a",{href:t.user.portfolio_url,target:"_blank",rel:"noopener noreferrer"},t.user.name))))}}]),a}(r.a.Component),y=function(e){var t=e.data.results.map((function(e){return r.a.createElement(b,{key:e.id,photo:e})}));return r.a.createElement("div",{className:"grid"},t)},N=a(29),S=a.n(N),C="SUCCESS",O="ERROR",j="LOADING",w=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).onChange=function(t){t.persist(),e.debounceSearch(t)},e.renderPagination=function(){return r.a.createElement(E,{searchTerm:e.state.term,current:e.state.currentPage,total:e.state.totalPhotos,perPage:e.state.perPage,onPageChanged:e.fetchPhotos.bind(Object(m.a)(e))})},e.renderLoader=function(){return e.state.loadState===j?r.a.createElement("div",{className:"loader"}):r.a.createElement(y,{data:e.state.photos})},e.renderError=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Something went wrong"),r.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},"Error"))},e.state={term:"cars",photos:[],totalPhotos:0,perPage:9,currentPage:1,loadState:j},e.input=r.a.createRef(),e.debounceSearch=S.a.debounce(e.debounce,1e3),e}return Object(h.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log("Error --\x3e ",e)}},{key:"componentDidMount",value:function(){this.fetchPhotos(this.state.term,this.state.currentPage)}},{key:"shouldComponentUpdate",value:function(e,t){return 0!==t.photos.length&&"LOADING"!==t.loadState}},{key:"fetchPhotos",value:function(e,t){var a=this,n=this,r=this.state.perPage,o={params:{client_id:"22b7b54287910389edfae878f576488bbc5b540a46daa0d2833ba858ce03b143",query:e,page:t,per_page:r}};this.setState({loadState:j}),f.a.get("https://api.unsplash.com/search/photos",o).then((function(e){n.setState({photos:e.data,totalPhotos:parseInt(e.headers["x-total"]),currentPage:t,loadState:C})})).catch((function(e){console.log("errror --\x3e",e),a.setState({loadState:O})}))}},{key:"debounce",value:function(){this.setState({term:this.input.current.value}),this.fetchPhotos(this.input.current.value,this.state.currentPage)}},{key:"renderHeader",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("a",{href:"/",className:"logo"},"Unsplash"),r.a.createElement("div",{className:"header-right"},r.a.createElement("form",null,r.a.createElement("input",{type:"text",placeholder:"Search",ref:this.input,onChange:this.onChange}))))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"app"},this.renderHeader(),r.a.createElement("div",{className:"container"},this.renderPagination(),this.renderLoader())))}}]),a}(n.Component),M=function(e){return r.a.createElement("div",{className:"grid"},"Error: Route not supported")},x=function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement(s.b,{history:i},r.a.createElement("div",null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:w}),r.a.createElement(s.a,{component:M})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.088a1c30.chunk.js.map